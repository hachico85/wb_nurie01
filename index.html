<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="塗り絵WEBアプリ - PC・iPad・iPhone対応" />
    <title>塗り絵WEBアプリ</title>
    
    <!-- PWA対応 -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="apple-touch-icon" href="icons/icon-192x192.png" />
    
    <!-- Google Fonts - Noto Sans JP -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="main">
      <!-- メニュー画面 -->
      <section id="menuScreen" class="screen menu-screen">
        <div class="menu-container">
          <h1 class="menu-title">どれがすき？</h1>
          <div class="category-buttons" id="categoryButtons">
            <!-- カテゴリボタンはJavaScriptで動的生成 -->
          </div>
        </div>
      </section>

      <!-- サムネイル選択画面 -->
      <section id="thumbScreen" class="screen thumb-screen" style="display: none;">
        <div class="thumb-container">
          <div class="thumb-header">
            <button id="backToMenu" class="back-btn">← メニューに戻る</button>
            <h2 id="thumbTitle" class="thumb-title"></h2>
          </div>
          <div id="thumbGrid" class="thumb-grid"></div>
        </div>
      </section>

      <!-- 塗り絵画面 -->
      <section id="paintScreen" class="screen paint-screen" style="display: none;">
        <div class="paint-header">
          <button id="backToThumbs" class="back-btn">← 一覧に戻る</button>
          <div class="paint-nav">
            <button id="prevPaintBtn" aria-label="前の塗り絵">◀</button>
            <span id="paintTitle"></span>
            <button id="nextPaintBtn" aria-label="次の塗り絵">▶</button>
          </div>
        </div>
        
        <div class="paint-tools">
          <label class="tool">
            <span>色</span>
            <input id="colorPicker" type="color" value="#ff6b6b" />
          </label>
          <div id="palette" class="palette" role="group" aria-label="基本色"></div>
          <label class="tool">
            <span>太さ</span>
            <input id="brushSize" type="range" min="2" max="60" value="22" />
          </label>
          <div class="buttons">
            <button id="brushBtn" class="primary" aria-pressed="true">筆</button>
            <button id="eraserBtn" aria-pressed="false">消しゴム</button>
            <button id="clearBtn">クリア</button>
          </div>
        </div>
        
        <div id="canvasWrap" class="canvas-wrap">
          <canvas id="lineArtLayer" class="canvas-layer" aria-label="線画レイヤー"></canvas>
          <canvas id="paintLayer" class="canvas-layer" aria-label="塗りレイヤー"></canvas>
        </div>
      </section>
    </main>

    <script src="app.js" type="module"></script>
    
    <!-- Service Worker登録（一時無効化） -->
    <!--
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('SW registered: ', registration);
            })
            .catch(registrationError => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }
    </script>
    -->
  </body>
  </html>
